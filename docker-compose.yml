services:
  tududi-mcp:
    build:
      context: .
      dockerfile: Dockerfile
    image: tududi-mcp:latest
    container_name: tududi-mcp
    restart: unless-stopped
    environment:
      - TUDUDI_API_URL=${TUDUDI_API_URL}
      # Option 1: API Key authentication (recommended)
      - TUDUDI_API_KEY=${TUDUDI_API_KEY}
      # Option 2: Email/Password authentication (for older Tududi versions)
      - TUDUDI_EMAIL=${TUDUDI_EMAIL}
      - TUDUDI_PASSWORD=${TUDUDI_PASSWORD}
      - LOG_LEVEL=${LOG_LEVEL:-info}
      - NODE_ENV=production
    # For stdio communication, we use stdin_open and tty
    stdin_open: true
    tty: true
    # Optional: Mount logs directory
    volumes:
      - ./logs:/app/logs

